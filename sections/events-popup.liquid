{%- liquid
  assign heading = section.settings.heading
  assign first_subheading = section.settings.first_subheading
  assign announcement_text = section.settings.announcement_text
  assign second_subheading = section.settings.second_subheading
  assign confirm_button_label = section.settings.confirm_button_label
  assign cancel_button_label = section.settings.cancel_button_label
  assign additional_text = section.settings.additional_text
  assign show_socials = section.settings.show_socials

  assign show_timer = section.settings.show_timer
-%}
<events-popup class="scroll__animate events-popup" data-popup-modal>
  <div class="events-popup__modal">
    <div class="events-popup__content">
      {%- if heading != blank -%}
        <div class="main__heading events-popup__heading">
          <h2>{{ heading }}</h2>
        </div>
      {%- endif -%}
      <div class="events-popup__announcement">
        {%- if first_subheading != blank -%}
          <div class="sub__heading events__subheading">
            {{ first_subheading }}
          </div>
        {%- endif -%}
        {%- if announcement_text != blank -%}
          <div class="events-offer__text">
            {{ announcement_text }}
          </div>
        {%- endif -%}
        {%- if second_subheading != blank -%}
          <div class="sub__heading events__subheading">
            {{ second_subheading }}
          </div>
        {%- endif -%}
      </div>
      {%- if show_timer -%}
        <div class="promo-timer__container">
          {%- render 'promotional-countdown', block: section -%}
        </div>
      {%- endif -%}
      <div class="events-popup-newsletter">
        {%- render 'newsletter-form',
           confirm_button_label: confirm_button_label 
        -%}
        {%- if cancel_button_label != blank -%}
          <div class="popup-cancel__btn">
            <button class="links" title="{{ cancel_button_label }}">{{ cancel_button_label }}</button>
          </div>
        {%- endif -%}
        {%- if additional_text != blank -%}
          <div class="popup-addtional__text rte">{{ additional_text }}</div>
        {% endif %}
      </div>
      <div class="events-popup__socials">
        {%- if show_socials -%}
          {%- render 'social-icons' -%}
        {%- endif -%}
      </div>
    </div>
    <button class="close__modal close-modal__events--popup" title="{{ 'general.accessibility.close-modal' | t }}">
      {%- render 'icon-close' -%}
    </button>
  </div>
</events-popup>
{% schema %}
  {
    "name": "t:sections.events-popup.name",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "t:sections.events-popup.settings.heading.label",
        "default": "Announce Your Event"
      },
      {
        "type": "text",
        "id": "first_subheading",
        "label": "t:sections.events-popup.settings.first_subheading.label",
        "default": "Subheading"
      },
      {
        "type": "text",
        "id": "announcement_text",
        "label": "t:sections.events-popup.settings.announcement_text.label",
        "default": "15% Off"
      },
      {
        "type": "text",
        "id": "second_subheading",
        "label": "t:sections.events-popup.settings.second_subheading.label",
        "default": "Subheading"
      }, {
        "type": "text",
        "id": "confirm_button_label",
        "label": "t:sections.events-popup.settings.confirm_button_label.label",
        "default": "Confirm"
      }, {
        "type": "text",
        "id": "cancel_button_label",
        "label": "t:sections.events-popup.settings.cancel_button_label.label",
        "default": "Cancel"
      }, {
        "type": "richtext",
        "id": "additional_text",
        "label": "t:sections.events-popup.settings.additional_text.label"
      }, {
        "type": "checkbox",
        "id": "show_socials",
        "label": "t:sections.events-popup.settings.show_socials.label",
        "default": false
      }, {
        "type": "header",
        "content": "t:sections.events-popup.settings.header_timer.label"
      }, {
        "type": "checkbox",
        "id": "show_timer",
        "label": "t:sections.events-popup.settings.header_timer.show_timer.label",
        "default": false
      }, {
        "type": "number",
        "id": "years",
        "label": "t:sections.events-popup.settings.header_timer.year.label",
        "default": 2024
      }, {
        "type": "select",
        "id": "months",
        "label": "t:sections.events-popup.settings.header_timer.month.label",
        "default": "08",
        "options": [
          {
            "value": "01",
            "label": "t:sections.events-popup.settings.header_timer.month.options.01.label"
          },
          {
            "value": "02",
            "label": "t:sections.events-popup.settings.header_timer.month.options.02.label"
          },
          {
            "value": "03",
            "label": "t:sections.events-popup.settings.header_timer.month.options.03.label"
          },
          {
            "value": "04",
            "label": "t:sections.events-popup.settings.header_timer.month.options.04.label"
          }, {
            "value": "05",
            "label": "t:sections.events-popup.settings.header_timer.month.options.05.label"
          }, {
            "value": "06",
            "label": "t:sections.events-popup.settings.header_timer.month.options.06.label"
          }, {
            "value": "07",
            "label": "t:sections.events-popup.settings.header_timer.month.options.07.label"
          }, {
            "value": "08",
            "label": "t:sections.events-popup.settings.header_timer.month.options.08.label"
          }, {
            "value": "09",
            "label": "t:sections.events-popup.settings.header_timer.month.options.09.label"
          }, {
            "value": "10",
            "label": "t:sections.events-popup.settings.header_timer.month.options.10.label"
          }, {
            "value": "11",
            "label": "t:sections.events-popup.settings.header_timer.month.options.11.label"
          }, {
            "value": "12",
            "label": "t:sections.events-popup.settings.header_timer.month.options.12.label"
          }
        ]
      }, {
        "type": "range",
        "id": "days",
        "min": 1,
        "max": 31,
        "step": 1,
        "label": "t:sections.events-popup.settings.header_timer.day.label",
        "default": 31
      }, {
        "type": "range",
        "id": "hours",
        "min": 0,
        "max": 23,
        "step": 1,
        "label": "t:sections.events-popup.settings.header_timer.hour.label",
        "default": 12
      }, {
        "type": "range",
        "id": "minutes",
        "min": 1,
        "max": 60,
        "step": 1,
        "label": "t:sections.events-popup.settings.header_timer.minutes.label",
        "default": 12
      }, {
        "type": "richtext",
        "id": "timer_completion_message",
        "label": "t:sections.events-popup.settings.header_timer.timer_completion_message.label"
      }
    ]
  }
{% endschema %}